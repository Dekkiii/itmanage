<!DOCTYPE html>
<html lang="en">
<head>
<title>View Information</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

<style>
  *{
            padding: 0;
            margin: 0;
            box-sizing: border-box;
        }
  body {
    padding: 0;
    margin: 0;
    background: linear-gradient(to right, #30ccf3, #1c6ecb, #2e1ccb);
    }
    .navbar {
    background:#0b0261;
    }
    .nav-link,
    .navbar-brand {
    color: #fff;
    cursor: pointer;
    }
    .nav-link {
    margin-right: 1em !important;
    }
    .nav-link:hover {
    color: #000;
    }
    .navbar-collapse {
    justify-content: flex-end;
    
    
    }
    .row1{
            background: rgb(247, 247, 247);
            border-radius: 30px;
            box-shadow: 12px 12px 22px grey;
    }
    .header {
        background: linear-gradient(to bottom, #89cf43, #5aa84f, #3e8e41);
        background-size: cover;
        background-position: center;
        position: relative;
    
        }

      
.successform {
  background-color: white;
  border-radius: 30px;
  opacity: 90%;
  min-height: 4vh;
  min-width: 50vh;
  max-width: 100vh;
  margin: 40px auto 0; /* add margin to the top */
  
  flex-direction: column;
  justify-content: center;
  align-items: center;
 
}

.container {
  height: 100%;
}

.row {
  height: 100%;
}

/* use flexbox to center contents vertically and horizontally */
.row.justify-content-center.align-items-center {
  display: flex;
}


        .overlay {
            position: absolute;
            min-height: 100%;
            min-width: 100%;
            left: 0;
            top: 0;
            background: rgba(0, 0, 0, 0.6);
            }
            .description {
                left: 50%;
                position: absolute;
                top: 45%;
                transform: translate(-50%, -55%);
                text-align: center;
                }
                .description h1 {
                color: #6ab446;
                }
                .description p {
                color: #fff;
                font-size: 1.3rem;
                line-height: 1.5;
                
                }
                .description button {
                    border:1px solid #6ab446;
                    background:#6ab446;
                    border-radius: 0;
                    color:#fff;
                    }
                    .description button:hover {
                    border:1px solid #fff;
                    background:#fff;
                    color:#000;
                    }
    
                    .description a {
                        border:1px solid #6ab446;
                        background:#6ab446;
                        border-radius: 0;
                        color:#fff;
                        }
                        .description button:hover {
                        border:1px solid #fff;
                        background:#fff;
                        color:#000;
                        }

                        .btn1 {
      outline: none;
      height: 50px;
      width: 100%;
      background-color: #007bff;
      border-color: #007bff;
      color: #ffffff;
      border-radius: 4px;
      font-weight: bold;
    }
        .btn1:hover{
            background: whitesmoke;
            border: 1px solid;
            color: black;
        }
        .container{
        height: 100vh;
       }

       .card{
        width: 380px;
        border: none;
        border-radius: 15px;
        padding: 8px;
        background-color: #fff;
        position: relative;
        height: 500px;
       }

       .upper{

        height: 200px;

       }

       .upper img{

        width: 100%;
        border-top-left-radius: 0px;
        border-top-right-radius: 0px;

       }

       .user{
        position: relative;
       }

       .profile img{

        
        height: 80px;
        width: 80px;
        margin-top:2px;

       
       }

       .profile{

        position: absolute;
        top:-50px;
        left: 38%;
        height: 90px;
        width: 90px;
        border:3px solid #fff;

        border-radius: 50%;

       }

       .follow{
        border-radius: 15px;
        padding-left: 20px;
        padding-right: 20px;
        height: 35px;
       }

       .stats span{
        font-size: 20px;
       }
        
        
</style>
</head>


<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
<script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>
<nav class="navbar navbar-expand-md">
  <a class="navbar-brand" href="/homepage">
    <img src="https://cdn.glitch.global/6a964070-fa24-4424-a894-bf4948808638/348354899_1383830849063485_7453463131505687224_n.png?v=1684646432988"
      alt="LOGO" style="width:60px;height:60px;">
  </a>
<button class="navbar-toggler navbar-dark" type="button" data-toggle="collapse" data-target="#main-navigation">
<span class="navbar-toggler-icon"></span>
</button>
<div class="collapse navbar-collapse" id="main-navigation">
<ul class="navbar-nav">
<li class="nav-item">
<a class="nav-link" href="/homepage">Add Members</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="/viewing">View Information</a>
  </li>
    <li class="nav-item">
    <a class="nav-link" href="/dashboard">Dashboard</a>
<li class="nav-item">
<a class="nav-link" href="/logout">logout</a>
</li>
</ul>
</div>
</nav>



<section class="Form">
  <div class="container d-flex justify-content-center align-items-center">
          
    <div class="card">
      <div class="upper">
<center>
        <div class="col-md-5  mb-0  " id="qrCodeContainer" ></div>
        <diV>
          <br>
          <button id="downloadButton">Download QR Code</button>
        </diV>
        

        
      </div>
     <div class="mt-5 text-center">

       <h4 class="mb-0"><%= gymmember.length > 0 ? gymmember[0].firstname : '' %></h4>
       <span class="text-muted d-block mb-2"><%= gymmember.length > 0 ? gymmember[0].lastname : '' %></span>
       <span class="text-muted d-block mb-2"><% if (new Date(gymmember.memberuntil) < new Date()) { %>
        Expired
      <% } else { %>
        Active
      <% } %></span>

       <div class="d-flex justify-content-between align-items-center mt-4 px-4">

         <div class="stats">
           <h6 class="mb-0">Gender</h6>
           <span><%= gymmember.length > 0 ? gymmember[0].gender : '' %></span>
         </div>

         <div class="stats">
          <h6 class="mb-0">Experience</h6>
          <span><%= gymmember.length > 0 ? gymmember[0].experience : '' %></span>
          </div>

          <div class="stats">
            <h6 class="mb-0">Number</h6>
            <span><%= gymmember.length > 0 ? gymmember[0].number : '' %></span>

          </div>

       </div>
      </center>
       <div class="mt-5 text-center">
        <button class="btn1 mt-1 mb-2" onclick="window.location.href='/viewing'">Back</button>
       </div>
     </div>
    </div>
  </div>
</section>


<script>
  // Generate QR code for inmate details
  

  var gymmemberQRCode = new QRCode(document.getElementById("qrCodeContainer"), {
      text: "",
      text: "Gym member Details\nGym member experience. <%= gymmember.length > 0 ? gymmember[0].experience : '' %>\n First Name: <%= gymmember.length > 0 ? gymmember[0].firstname : '' %>\n Last Name: <%= gymmember.length > 0 ? gymmember[0].lastname : '' %>\n Gender: <%= gymmember.length > 0 ? gymmember[0].gender : '' %>.\nStart and End of Membership\n   Membership Start: <%= gymmember.length > 0 ? gymmember[0].memberstart : '' %>\n Membership Until: <%= gymmember.length > 0 ? gymmember[0].memberuntil : '' %>",
      width: 250,
      height: 250,
  });

  var downloadButton = document.getElementById("downloadButton");
  downloadButton.addEventListener("click", function() {
    var canvas = document.getElementById("qrCodeContainer").querySelector("canvas");
    var dataURL = canvas.toDataURL("image/png");
    var link = document.createElement("a");
    link.href = dataURL;
    link.download = "qr_code.png";
    link.click();
  });
</script>

</body>
</html>